{% extends '_base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}Feeds{% endblock %}

{% block content %}

<h2>{{ file.title }}</h2>
<p>{{ file.description }}</p>

{% if file.file.name|file_extension_is_image %}
    <!-- Render image preview -->
    <img src="{{ file.file.url }}" alt="File Preview">
{% elif file.file.name.endswith('.pdf') %}
    <!-- Render PDF preview -->
    <embed src="{{ file.file.url }}" type="application/pdf" width="100%" height="600px">
{% elif file.file.name.endswith('.mp3') %}
    <!-- Render audio preview -->
    <audio controls>
        <source src="{{ file.file.url }}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
{% elif file.file.name.endswith('.mp4') %}
    <!-- Render video preview -->
    <video controls width="100%" height="auto">
        <source src="{{ file.file.url }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
{% else %}
    <p>Preview Not Available</p>
{% endif %}

{% endblock content %}